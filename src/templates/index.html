<!DOCTYPE html>
<html>
	<head>
		<title>Artist Downloader</title>
		<link rel="stylesheet" href="/static/style.css" />
	</head>
	<body>
		<h1>Artist Downloader</h1>
		<form action="/" method="post">
			<label for="artist">Artist Name:</label>
			<input type="text" id="artist" name="artist" required />
			<label for="limit">Track Limit:</label>
			<input type="number" id="limit" name="limit" value="2" />
			<button type="submit">Download</button>
		</form>
		<h2>Download Queue</h2>
		<pre id="queue"></pre>

		<script>
			function updateQueue() {
				fetch('/queue')
					.then((response) => response.json())
					.then((data) => {
						let queueText = ''
						if (data.length > 0) {
							data.forEach((item) => {
								queueText += `Artist: ${item.artist}, Limit: ${item.limit}\n`
							})
						} else {
							queueText = 'Queue is empty.'
						}
						document.getElementById('queue').textContent = queueText
					})
			}

			setInterval(updateQueue, 5000)
			updateQueue()
		</script>
	</body>
</html>
